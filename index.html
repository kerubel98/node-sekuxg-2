<h1>Hello MongoDB + Express + NodeJs</h1>
<textarea style="width:100%;height: 100px" id="msg"></textarea>
<br/>
<button onclick="post('/api/post', {
  name: 'Allen', age: 30
})">POST /api/post</button>
<br/>
<button onclick="getOne('/api/getOne/1000')">Test GET /api/getOne/1000</button>

<script>
const $ = document.querySelector.bind(document);

async function post(url, data={}) {
  const response = await fetch(url, {
    method: 'POST',
    body: JSON.stringify(data)
  });
  const json = await response.json();
  $('#msg').value = `fetch POST ${url} \n`+
    `${JSON.stringify(json, null, ' ')}`;
}

async function getOne(url = '/getOne/1000') {
  const response = await fetch(url);
  const json = await response.json();
  $('#msg').value = `fetch GET ${url} \n`+
    `${JSON.stringify(json, null, ' ')}`;
}
</script>
